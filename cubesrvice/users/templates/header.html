<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cube Service | Home Services</title>
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<style>
/* ===== RESET ===== */


/* ===== VARIABLES ===== */
:root{
    --primary:#6a00ff;
    --bg:#f4f6fb;
    --dark:#222;
    --light:#fff;
}

/* ===== BODY ===== */
/* ===== RESPONSIVE HEADER FIXES ===== */
header {
    background-color: #e5e4e2;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 2000;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    height: auto; /* Changed to auto for wrapping */
    min-height: 70px;
}

.navbar {
    max-width: 1200px;
    margin: auto;
    padding: 10px 15px;
    display: flex;
    align-items: center;
    justify-content: space-between; /* Better spacing */
    gap: 10px;
}
body {
    /* This prevents the content from being hidden under the fixed header */
    padding-top: 80px; 
    background: var(--bg);
    color: #333;
}

/* Logo */
.logo{
    font-size:24px;
    font-weight:700;
    color:black;
}

/* Location */
.location{
    display:flex;
    align-items:center;
    gap:6px;
    font-size:14px;
    color:#444;
    cursor:pointer;
}

.location img{
    width:18px;
}

/* Ensure the search box shrinks and grows */

/* Header Right */
.header-right{
    display:flex;
    align-items:center;
    gap:15px;
}
    /* LOGO */
    .footer-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 22px;
      font-weight: bold;
    }

    .logo-box {
      background: #000;
      color: #fff;
      padding: 12px;
      border-radius: 8px;
    }


/* Cart */
.cart{
    position:relative;
    cursor:pointer;
}

.cart img{
    width:26px;
}

.cart-count{
    position:absolute;
    top:-6px;
    right:-8px;
    background:red;
    color:white;
    font-size:11px;
    padding:2px 6px;
    border-radius:50%;
}

/* Auth buttons */
.auth-buttons{
    display:flex;
    gap:10px;
}

.auth-buttons button{
    padding:8px 18px;
    border:none;
    border-radius:20px;
    cursor:pointer;
    font-weight:500;
}

/* ===== LOGIN BOX ===== */
.login-box{
  background:#f9f9ff;
  padding:25px;
  border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
}

.login-box label{
  font-weight:600;
  display:block;
  margin-top:15px;
}

.login-box input,
.login-box select{
  margin-top:8px;
}

.login-box .main{
  margin-top:20px;
}


.signup{
    background:var(--primary);
    color:white;
}


/* ===== RESPONSIVE ===== */
@media(max-width:900px){
    .location{
        display:none;
    }
}

@media(max-width:768px){
    .navbar{
        flex-wrap:wrap;
    }
    .search-box{
        width:100%;
        order:3;
        
    }
}
.user-profile{
    display:flex;
    align-items:center;
    gap:10px;
    cursor:pointer;
}

.user-profile img{
    width:38px;
    height:38px;
    border-radius:50%;
    object-fit:cover;
    border:2px solid var(--primary);
}

.username{
    font-weight:600;
    color:#333;
}


/* ===== ADVERTISEMENT SECTION ===== */

/* Left Content */

/* Make card clickable */
.booking-card{
    text-decoration:none;
    color:inherit;
    cursor:pointer;
}

/* Remove button spacing effect */
.booking-price{
    margin-top:12px;
}

.top-bar button{
  margin-left:10px;
  padding:8px 18px;
  border:none;
  cursor:pointer;
  border-radius:5px;
  background:#007bff;
  color:#fff;
  font-size:14px;
}

/* ================= MODAL ================= */
/* Update these in your <style> section */

.overlay {
    display: none;
    position: fixed;
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    background: rgba(0, 0, 0, 0.6); /* Slightly darker for better focus */
    z-index: 3000; /* Must be higher than header (2000) */
}

.modal {
    display: none;
    position: fixed;
    top: 50%; /* Adjusted from 55% for better centering */
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    width: 90%; /* Responsive width */
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto; /* Allow scrolling inside modal if form is long */
    border-radius: 12px;
    padding: 25px;
    z-index: 3001; /* Must be higher than overlay */
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

/* Ensure the slider doesn't overlap inappropriately */
.img-slider {
    z-index: 1; /* Keep it low */
}.close-btn{
  position:absolute;
  top:12px;
  right:18px;
  background:none;
  border:none;
  font-size:18px;
  cursor:pointer;
}

.hidden{ display:none; }

/* ================= LOGIN ================= */
.input-group{
  display:flex;
  gap:10px;
}

input, select, textarea{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}


/* Sidebar Styling */
.sidebar {
    position: fixed;
    top: 0;
    left: -280px; /* Hidden by default */
    width: 280px;
    height: 100%;
    background: #fff;
    z-index: 4000; /* Higher than header and modals */
    transition: 0.3s;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    padding: 20px;
}

.sidebar.active {
    left: 0; /* Slide in */
}

.sidebar-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 3999;
}

.sidebar-overlay.active {
    display: block;
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
    margin-bottom: 15px;
}

.sidebar-links {
    list-style: none;
    padding: 0;
}

.sidebar-links li {
    padding: 12px 0;
    border-bottom: 1px solid #f9f9f9;
}

.sidebar-links li a {
    text-decoration: none;
    color: #333;
    font-weight: 500;
    display: block;
}

/* Hamburger Icon Styling */
.menu-toggle {
    cursor: pointer;
    display: flex;
    align-items: center;
}

.close-sidebar {
    cursor: pointer;
    font-size: 20px;
}
/* Fix for Toggle and Profile visibility */
.menu-toggle {
    display: flex !important; /* Force show */
    cursor: pointer;
    margin-right: 10px;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-left: auto; /* Pushes the profile/cart to the right */
}

/* Mobile Specific Overrides (max-width: 768px) */
@media (max-width: 768px) {
    header {
        height: auto;
        padding-bottom: 10px;
    }

    .navbar {
        display: flex;
        flex-wrap: wrap; /* Allows search bar to wrap to next line */
        justify-content: space-between;
        padding: 10px;
    }

    .logo {
        font-size: 18px;
        flex: 1;
    }

    .footer-logo {
        display: none; /* Hide the CS box on tiny screens to save space */
    }

    .search-box {
        order: 3; /* Move search bar below the top row */
        width: 100%;
        flex: none;
        margin-top: 10px;
    }

    .username {
        display:flex; /* Hide text "Hello, user" but keep the icon visible */
    }

    .user-profile i, .user-profile img {
        display: block !important;
        font-size: 20px;
    }
}
/* ===== HEADER MENU ===== */
.header-menu{
    display:flex;
    gap:18px;
    align-items:center;
    margin-left:15px;
}

.menu-link{
    font-size:14px;
    font-weight:600;
    color:#333;
    cursor:pointer;
    text-decoration:none;
}

.menu-link:hover{
    color:var(--primary);
}

.logout{
    color:#d11a2a;
}

/* Mobile */
@media(max-width:768px){
    .header-menu{
        width:100%;
        justify-content:space-around;
        margin-top:8px;
    }
}
/* ===== REPAIR PANEL ===== */
.repair-overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.4);
    display:none;
    z-index:2500;
}

.repair-panel{
    position:fixed;
    top:0;
    right:-50%;
    width:50%;
    height:100%;
    background:#fff;
    z-index:2600;
    transition:0.3s ease;
    box-shadow:-4px 0 20px rgba(0,0,0,0.15);
    padding:10px;
}

.repair-panel.active{
    right:0;
}

.repair-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px solid #eee;
    padding-bottom:10px;
}

.repair-header span{
    cursor:pointer;
    font-size:20px;
}

.repair-grid{
    margin-top:20px;
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:18px;
}

.repair-item{
    display:flex;
    align-items:center;
    gap:10px;
    padding:14px;
    background:#f4f6fb;
    border-radius:10px;
    text-decoration:none;
    color:#333;
    font-weight:600;
}

.repair-item:hover{
    background:#eae8ff;
}

/* Mobile = Full width */
@media(max-width:768px){
    .repair-panel{
        width:100%;
        right:-100%;
    }
}
.logoou{
    height:80px;
    width:80px;
    border-radius:360px;
   
}
.logoou img{
    height:130px;
    width:120px;
    border-radius:360px;
    margin-top:-23px;
    
}
</style>
</head>

<body>
  

<!-- HEADER -->
<header>
    <div class="navbar">
      <!-- LOGO --><div class="menu-toggle" onclick="toggleSidebar()">
            <img src="https://cdn-icons-png.flaticon.com/512/1828/1828859.png" width="25px">
        </div>
    
      <div class="logoou"><img src="{% static 'images/cube.png' %}"></div>
   
        <div class="logo"> <span>Cube<span style="color:#4f46e5;">Service</span></span></div>

        <div class="location">
            {% if user.is_authenticated %}
            <img src="https://cdn-icons-png.flaticon.com/512/684/684908.png">
            <span>{{ user.userprofile.district }}</span>
             {% endif %}
        </div>
<nav class="header-menu">
   <a href="{% url 'users:home' %}" class="menu-link">
    <i class="fa-solid fa-house"></i> Home
  </a>

  <a href="{% url 'users:contact' %}" class="menu-link">
    <i class="fa-solid fa-headset"></i> Contact
  </a>

  <a href="{% url 'users:my_orders' %}" class="menu-link">
    <i class="fa-solid fa-box"></i> My Orders
  </a>

  <span class="menu-link repair-btn" onclick="toggleRepairPanel()">
   <i class="fa-solid fa-screwdriver-wrench"></i>Repair Service
  </span>
  </nav>
       <div class="header-right">
        
  {% if user.is_authenticated %}
    <a href="{% url 'users:logout' %}" class="menu-link logout">üö™ Logout</a>
  {% endif %}

        
      {% if user.is_authenticated %}
            <div class="user-profile">
      <a href="{%url 'users:user_profile'%}">
    <i class="fa-solid fa-user"></i>
</a>

       
    <span class="username">Hello, {{ user.userprofile.fullname|default:user.username }}</span>
</div>
{% else %}


            <div class="auth-buttons">
              <a href="{% url 'users:user_login' %}"><button class="login" style="background-color: #6a00ff; color:white;">Login</button></a>
              
            </div>
       {% endif %}

            <div class="cart">
  <a href="{% url 'users:cart' %}">
    <img src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png">
  </a>

  {% if cart_count > 0 %}
    <span class="cart-count">{{ cart_count }}</span>
  {% endif %}
</div>

              </div>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
<div class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h3>Menu</h3>
        <span class="close-sidebar" onclick="toggleSidebar()">‚úï</span>
    </div>
    <ul class="sidebar-links">
        <li><a href="/">Home</a></li>
        <li><a href="{% url 'users:all_services' %}">All Services</a></li>
       
       
         <li><a href="{% url 'users:admin_login' %}">Admin Login</a></li>
         <li><a href="{% url 'users:adminreg' %}">Admin Register</a></li>
          <li><a href="{% url 'users:login_servicecenter' %}">Service center Login</a></li>
             <li><a href="{% url 'users:contact' %}">Contact</a></li>
              <li><a href="{% url 'users:about_us' %}">About</a></li>
               <li><a href="{% url 'users:policy' %}">Policy</a></li>
        
        {% if user.is_authenticated %}
            <li><a href="{% url 'users:logout' %}" style="color: black;">Logout</a></li>
        {% endif %}
    </ul>
</div>
    </div>
</header>

<!-- ===== REPAIR SERVICES PANEL ===== -->
<div class="repair-overlay" id="repairOverlay" onclick="toggleRepairPanel()"></div>

<div class="repair-panel" id="repairPanel">
  <div class="repair-header">
    <h3>Repair Services</h3>
    <span onclick="toggleRepairPanel()">‚úï</span>
  </div>

  <div class="repair-grid">
    <a href="{% url 'users:ac' %}" class="repair-item">
      üîå <span>AC Repair</span>
    </a>
    <a href="#" class="repair-item">
      üß∫ <span>Washing Machine</span>
    </a>
    <a href="{% url 'users:fridge' %}" class="repair-item">
      ‚ùÑÔ∏è <span>Fridge Repair</span>
    </a>
    <a href="{% url 'users:tv' %}" class="repair-item">
      üì∫ <span>TV Repair</span>
    </a>
    <a href="{% url 'users:oven' %}" class="repair-item">
      üí° <span>oven</span>
    </a>
    <a href="{% url 'users:press' %}" class="repair-item">
      üö∞ <span>Press</span>
    </a>
     <a href="{% url 'users:chimney' %}" class="repair-item">
      üö∞ <span>chimney</span>
    </a>
     <a href="{% url 'users:geyser' %}" class="repair-item">
      üö∞ <span>Geyser</span>
    </a>
     <a href="{% url 'users:waterpurifier' %}" class="repair-item">
      üö∞ <span>Water Purifier</span>
    </a>
     <a href="{% url 'users:watercooler' %}" class="repair-item">
      üö∞ <span>Water Cooler</span>
    </a>
    <a href="{% url 'users:washing' %}" class="repair-item">
      üö∞ <span>Washing Machiner</span>
    </a>
     <a href="{% url 'users:laptop' %}" class="repair-item">
      üö∞ <span>Laptop</span>
    </a>
    <a href="{% url 'users:fan' %}" class="repair-item">
      üö∞ <span>Fan</span>
    </a>
    <a href="{% url 'users:inverter' %}" class="repair-item">
      üö∞ <span>Inverter</span>
    </a>
  </div>
</div>






<!-- ================= MODAL ================= -->

<script>



    
document.addEventListener("DOMContentLoaded", () => {

    const slides = document.querySelectorAll(".img-slide");
    let index = 0;

    setInterval(() => {
        slides[index].classList.remove("active");
        index = (index + 1) % slides.length;
        slides[index].classList.add("active");
    }, 4000);

});






function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("sidebarOverlay");
    
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
}

const forgotSection = document.getElementById("forgotSection");

function openForgot(){
  modal.style.display="block";
  overlay.style.display="block";

  loginSection.classList.add("hidden");
  registerSection.classList.add("hidden");
  forgotSection.classList.remove("hidden");
}
function toggleRepairPanel(){
    document.getElementById("repairPanel").classList.toggle("active");
    document.getElementById("repairOverlay").style.display =
        document.getElementById("repairPanel").classList.contains("active")
        ? "block" : "none";
}
</script>







</body>
</html>
